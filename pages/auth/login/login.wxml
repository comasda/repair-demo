<view class="container">

  <view class="title">登录</view>

  <view wx:if="{{mode==='password'}}" class="form-box">
    <input type="text" placeholder="请输入手机号" maxlength="11" bindinput="onPhoneInput" class="input"/>
    <input type="password" placeholder="请输入密码" bindinput="onPwdInput" class="input"/>
    <button class="btn-primary" bindtap="loginWithPassword">密码登录</button>
  </view>

  <view wx:if="{{mode==='code'}}" class="form-box">
    <input type="text" placeholder="请输入手机号" maxlength="11" bindinput="onPhoneInput" class="input"/>
    <verify-code 
      phone="{{phone}}" 
      bind:codeinput="onCodeInput"
      bind:codesent="onCodeSent"
    />
    <button class="btn-primary" bindtap="loginWithCode">验证码登录</button>
  </view>

  <view class="footer">
    <text class="link" bindtap="switchMode">
      {{mode==='password' ? '用验证码登录' : '用密码登录'}}
    </text>
    <text class="link" bindtap="goRegister">去注册</text>
  </view>
</view>
