<view class="container">
  <block wx:for="{{orders}}" wx:key="_id">
    <view class="order-card">
      <!-- 工单头部 -->
      <view class="order-header">
        <text class="device">设备：{{item.device}}</text>
        <text class="status">{{item.statusText}}</text>
      </view>

      <!-- 工单内容 -->
      <view class="order-body">
        <text>问题：{{item.issue}}</text>
        <text>客户：{{item.customer}}</text>
        <text>电话：{{item.phone || '未填写'}}</text>
        <text>地址：{{item.address || '未填写'}}</text>
      </view>

      <!-- 操作按钮 -->
      <view class="order-actions">
        <button type="primary" size="mini" data-id="{{item._id}}" bindtap="acceptOrder">接单</button>
        <button type="default" size="mini" data-id="{{item._id}}" bindtap="declineOrder">拒绝</button>
        <button type="default" size="mini" data-id="{{item._id}}" bindtap="goDetail">详情</button>
      </view>
    </view>
  </block>

  <!-- 空列表提示 -->
  <view wx:if="{{orders.length === 0}}" class="empty">
    <text>暂无待接工单</text>
  </view>
</view>
